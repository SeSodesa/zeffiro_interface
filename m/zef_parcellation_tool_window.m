function zef = zef_parcellation_tool_window(zef)

h1 = figure(...
'PaperUnits','inches',...
'Units','normalized',...
'Position',[0.544444444444445 1.125 0.251388888888889 0.822222222222222],...
'Visible',get(0,'defaultfigureVisible'),...
'Color',get(0,'defaultfigureColor'),...
'CloseRequestFcn',get(0,'defaultfigureCloseRequestFcn'),...
'CurrentAxesMode','manual',...
'CurrentObjectMode','manual',...
'CurrentPointMode','manual',...
'SelectionTypeMode','manual',...
'ResizeFcn',blanks(0),...
'IntegerHandle','off',...
'NextPlot',get(0,'defaultfigureNextPlot'),...
'Alphamap',get(0,'defaultfigureAlphamap'),...
'Colormap',get(0,'defaultfigureColormap'),...
'WindowButtonDownFcn',blanks(0),...
'WindowButtonUpFcn',blanks(0),...
'WindowButtonMotionFcn',blanks(0),...
'WindowScrollWheelFcn',blanks(0),...
'WindowKeyPressFcn',blanks(0),...
'WindowKeyReleaseFcn',blanks(0),...
'MenuBar','none',...
'ToolBar',get(0,'defaultfigureToolBar'),...
'Pointer',get(0,'defaultfigurePointer'),...
'PointerShapeHotSpot',get(0,'defaultfigurePointerShapeHotSpot'),...
'Name','zeffiro_interface_parcellation_tool',...
'NumberTitle','off',...
'HandleVisibility','callback',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '' ,...
'DeleteFcn',blanks(0),...
'Tag','figure1',...
'UserData',[],...
'WindowStyle',get(0,'defaultfigureWindowStyle'),...
'DockControls',get(0,'defaultfigureDockControls'),...
'Resize',get(0,'defaultfigureResize'),...
'PaperPosition',get(0,'defaultfigurePaperPosition'),...
'PaperSize',[8.5 11],...
'PaperType','usletter',...
'InvertHardcopy',get(0,'defaultfigureInvertHardcopy'),...
'PaperOrientation',get(0,'defaultfigurePaperOrientation'),...
'ScreenPixelsPerInchMode','manual',...
'KeyPressFcn',blanks(0),...
'KeyReleaseFcn',blanks(0));

zef.h_parcellation_tool = h1;

h2 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String',blanks(0),...
'Style','listbox',...
'Value',[],...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.0580110497237569 0.372972972972973 0.889502762430939 0.558108108108108],...
'Callback','zef.parcellation_selected = get(zef.h_parcellation_list,''value'');',...
'Children',[],...
'CreateFcn', '' ,...
'Tag','listbox1',...
'FontSize',0.0200347163113489);

zef.h_parcellation_list = h2;

h3 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String','Colortable',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.0497237569060773 0.318918918918919 0.234806629834254 0.0378378378378378],...
'Callback','zef_import_parcellation_colortable;',...
'Children',[],...
'CreateFcn', '' ,...
'Tag','pushbutton1',...
'FontSize',0.293497210599722);

zef.h_import_parcellation_colortable = h3;

h4 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'HorizontalAlignment','left',...
'String','Parcellation name:',...
'Style','text',...
'Position',[0.0662983425414365 0.939189189189189 0.364640883977901 0.0351351351351351],...
'Children',[],...
'CreateFcn', '',...
'Tag','text2',...
'FontSize',0.320178775199696,...
'FontWeight','bold');

h5 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String','Parcellation name',...
'Style','edit',...
'Position',[0.472375690607735 0.939189189189189 0.477900552486188 0.0351351351351351],...
'BackgroundColor',[0.9 0.9 0.9],...
'Callback','zef.parcellation_name = get(zef.h_parcellation_name,''string'');',...
'Children',[],...
'CreateFcn', '' ,...
'Tag','edit1',...
'FontSize',0.320178775199696);

zef.h_parcellation_name = h5;

h6 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'HorizontalAlignment',get(0,'defaultuicontrolHorizontalAlignment'),...
'ListboxTop',get(0,'defaultuicontrolListboxTop'),...
'Max',get(0,'defaultuicontrolMax'),...
'Min',get(0,'defaultuicontrolMin'),...
'SliderStep',get(0,'defaultuicontrolSliderStep'),...
'String','LH',...
'Style','edit',...
'Value',get(0,'defaultuicontrolValue'),...
'Position',[0.787292817679558 0.328378378378378 0.160220994475138 0.0243243243243244],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'Callback','zef.parcellation_segment = get(zef.h_parcellation_segment, ''string'');',...
'Children',[],...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'Enable',get(0,'defaultuicontrolEnable'),...
'TooltipString',blanks(0),...
'Visible',get(0,'defaultuicontrolVisible'),...
'HandleVisibility',get(0,'defaultuicontrolHandleVisibility'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '' ,...
'DeleteFcn',blanks(0),...
'Tag','edit2',...
'UserData',[],...
'KeyPressFcn',blanks(0),...
'KeyReleaseFcn',blanks(0),...
'FontSize',0.469595536959554,...
'FontName',get(0,'defaultuicontrolFontName'),...
'FontAngle',get(0,'defaultuicontrolFontAngle'),...
'FontWeight',get(0,'defaultuicontrolFontWeight'));

zef.h_parcellation_segment = h6;

h7 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'HorizontalAlignment','right',...
'String','Segment:',...
'Style','text',...
'Position',[0.538674033149171 0.328378378378378 0.234806629834254 0.0243243243243244],...
'Children',[],...
'CreateFcn', '' ,...
'Tag','text3',...
'FontSize',0.469595536959554);

h8 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String','Points',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.0497237569060773 0.275675675675676 0.234806629834254 0.0378378378378378],...
'Callback','zef_import_parcellation_points;',...
'Children',[],...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '' ,...
'DeleteFcn',blanks(0),...
'Tag','pushbutton4',...
'KeyPressFcn',blanks(0),...
'FontSize',0.293497210599721);

zef.h_zef_import_parcellation_points = h8;

h9 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String','Interpolate',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.292817679558011 0.275675675675676 0.234806629834254 0.0378378378378378],...
'Callback','[zef.parcellation_interp_ind] = zef_parcellation_interpolation(zef); zef_update_parcellation; set(zef.h_parcellation_interpolation,''foregroundcolor'',[0 0 0]);',...
'Children',[],...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '' ,...
'DeleteFcn',blanks(0),...
'Tag','pushbutton5',...
'KeyPressFcn',blanks(0),...
'FontSize',0.293497210599721);

zef.h_parcellation_interpolation = h9;

h10 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'HorizontalAlignment',get(0,'defaultuicontrolHorizontalAlignment'),...
'ListboxTop',get(0,'defaultuicontrolListboxTop'),...
'Max',get(0,'defaultuicontrolMax'),...
'Min',get(0,'defaultuicontrolMin'),...
'SliderStep',get(0,'defaultuicontrolSliderStep'),...
'String','3',...
'Style','edit',...
'Value',[],...
'Position',[0.787292817679558 0.285135135135135 0.160220994475138 0.0243243243243244],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'Callback','zef.parcellation_tolerance = str2num(get(zef.h_parcellation_tolerance,''string''));',...
'Children',[],...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'Enable',get(0,'defaultuicontrolEnable'),...
'TooltipString',blanks(0),...
'Visible',get(0,'defaultuicontrolVisible'),...
'HandleVisibility',get(0,'defaultuicontrolHandleVisibility'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '' ,...
'DeleteFcn',blanks(0),...
'Tag','edit4',...
'UserData',[],...
'KeyPressFcn',blanks(0),...
'KeyReleaseFcn',blanks(0),...
'FontSize',0.469595536959554,...
'FontName',get(0,'defaultuicontrolFontName'),...
'FontAngle',get(0,'defaultuicontrolFontAngle'),...
'FontWeight',get(0,'defaultuicontrolFontWeight'));

zef.h_parcellation_tolerance = h10;

h11 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'HorizontalAlignment','right',...
'String','Span (mm):',...
'Style','text',...
'Position',[0.535911602209945 0.289189189189189 0.234806629834254 0.0243243243243243],...
'Children',[],...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '' ,...
'DeleteFcn',blanks(0),...
'Tag','text5',...
'FontSize',0.469595536959554);

h12 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'HorizontalAlignment',get(0,'defaultuicontrolHorizontalAlignment'),...
'ListboxTop',get(0,'defaultuicontrolListboxTop'),...
'Max',get(0,'defaultuicontrolMax'),...
'Min',get(0,'defaultuicontrolMin'),...
'SliderStep',get(0,'defaultuicontrolSliderStep'),...
'String','On/Off',...
'Style','togglebutton',...
'Value',get(0,'defaultuicontrolValue'),...
'Position',[0.720994475138122 0.233783783783784 0.232044198895028 0.0378378378378378],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'Callback','if zef.use_parcellation == 1; zef.use_parcellation = 0; else; zef.use_parcellation = 1; end; set(zef.h_use_parcellation,''value'',zef.use_parcellation); zef_update_parcellation;',...
'Children',[],...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'Enable',get(0,'defaultuicontrolEnable'),...
'TooltipString',blanks(0),...
'Visible',get(0,'defaultuicontrolVisible'),...
'HandleVisibility',get(0,'defaultuicontrolHandleVisibility'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '',...
'DeleteFcn',blanks(0),...
'Tag','togglebutton1',...
'UserData',[],...
'KeyPressFcn',blanks(0),...
'KeyReleaseFcn',blanks(0),...
'FontSize',0.293497210599721,...
'FontName',get(0,'defaultuicontrolFontName'),...
'FontAngle',get(0,'defaultuicontrolFontAngle'),...
'FontWeight',get(0,'defaultuicontrolFontWeight'));

zef.h_use_parcellation = h12;

h13 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String','Segmentation',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.0497237569060773 0.233783783783784 0.234806629834254 0.0378378378378378],...
'Callback','[zef.parcellation_colortable, zef.parcellation_points] = zef_parcellation_default([]); zef.parcellation_list = []; zef_update_parcellation;',...
'Children',[],...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '' ,...
'DeleteFcn',blanks(0),...
'Tag','pushbutton6',...
'KeyPressFcn',blanks(0),...
'FontSize',0.293497210599721);

h14 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String','Time series',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.292817679558011 0.233783783783784 0.234806629834254 0.0378378378378378],...
'Callback','zef.parcellation_time_series = zef_parcellation_time_series([]);',...
'Children',[],...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '',...
'DeleteFcn',blanks(0),...
'Tag','pushbutton7',...
'KeyPressFcn',blanks(0),...
'FontSize',0.293497210599721);

zef.h_zef_parcellation_time_series = h14;

h15 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String','Plot',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.0497237569060773 0.0121621621621622 0.232044198895028 0.0378378378378378],...
'Callback','zef_plot_parcellation_time_series([]);',...
'Children',[],...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '',...
'DeleteFcn',blanks(0),...
'Tag','togglebutton2',...
'KeyPressFcn',blanks(0),...
'FontSize',0.293497210599721);

zef.h_zef_parcellation_time_series_plot = h15;

h16 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String',{  'Maximum energy, Mean scaling'; 'Maximum energy, Maximum scaling'; 'Maximum energy, No scaling'; 'Mean energy, Mean scaling'; 'Mean energy, Maximum scaling'; 'Mean energy, No scaling'; 'Standard deviation (STD), Mean scaling'; 'Standard deviation (STD), Maximum scaling'; 'Standard deviation (STD), No scaling'; 'Correlation, Mean scaling'; 'Correlation, Maximum scaling'; 'Correlation, No scaling'; 'Correlation, Mean scaling, Mean weighting'; 'Correlation, Maximum scaling, Maximum weighting'; 'Covariance, Mean scaling'; 'Covariance, Maximum scaling'; 'Covariance, No scaling'; 'Dynamic time warping (DTW), Mean scaling'; 'Dynamic time warping (DTW), Maximum scaling'; 'Dynamic time warping (DTW), No scaling' },...
'Style','popupmenu',...
'Value',[],...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.477900552486188 0.00810810810810811 0.486187845303867 0.0378378378378378],...
'Callback','zef.parcellation_plot_type = get(zef.h_parcellation_plot_type,''value'');',...
'Children',[],...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '' ,...
'DeleteFcn',blanks(0),...
'Tag','togglebutton3',...
'KeyPressFcn',blanks(0),...
'FontSize',0.293497210599721);

zef.h_parcellation_plot_type = h16;

h17 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'HorizontalAlignment','right',...
'ListboxTop',get(0,'defaultuicontrolListboxTop'),...
'Max',get(0,'defaultuicontrolMax'),...
'Min',get(0,'defaultuicontrolMin'),...
'SliderStep',get(0,'defaultuicontrolSliderStep'),...
'String','Plot type:',...
'Style','text',...
'Value',get(0,'defaultuicontrolValue'),...
'Position',[0.290055248618785 0.0202702702702703 0.168508287292818 0.0243243243243243],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'Callback',blanks(0),...
'Children',[],...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'Enable',get(0,'defaultuicontrolEnable'),...
'TooltipString',blanks(0),...
'Visible',get(0,'defaultuicontrolVisible'),...
'HandleVisibility',get(0,'defaultuicontrolHandleVisibility'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '' ,...
'DeleteFcn',blanks(0),...
'Tag','text6',...
'UserData',[],...
'KeyPressFcn',blanks(0),...
'KeyReleaseFcn',blanks(0),...
'FontSize',0.466666666666667,...
'FontName',get(0,'defaultuicontrolFontName'),...
'FontAngle',get(0,'defaultuicontrolFontAngle'),...
'FontWeight',get(0,'defaultuicontrolFontWeight'));

h18 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String','Reset',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.292817679558011 0.318918918918919 0.234806629834254 0.0378378378378378],...
'Callback','[zef.yesno] = questdlg(''Reset colortable and points?'',''Yes'',''No''); if isequal(zef.yesno,''Yes''); zef_parcellation_reset; end',...
'Children',[],...
'CreateFcn', '' ,...
'Tag','pushbutton8',...
'FontSize',0.293497210599722);

zef.h_parcellation_reset = h18;

h19 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','normalized',...
'String',blanks(0),...
'Style','listbox',...
'Value',[],...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.0580110497237569 0.0608108108108108 0.889502762430939 0.132432432432432],...
'Children',[],...
'CreateFcn', '' ,...
'Tag','listbox2',...
'FontSize',0.0200347163113489);

zef.h_time_series_tools_list = h19;

h20 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'FontUnits','pixels',...
'HorizontalAlignment','left',...
'ListboxTop',get(0,'defaultuicontrolListboxTop'),...
'Max',get(0,'defaultuicontrolMax'),...
'Min',get(0,'defaultuicontrolMin'),...
'SliderStep',get(0,'defaultuicontrolSliderStep'),...
'String','Plot type:',...
'Style','text',...
'Value',get(0,'defaultuicontrolValue'),...
'Position',[0.0662983425414365 0.198648648648649 0.364640883977901 0.0243243243243243],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'Callback',blanks(0),...
'Children',[],...
'Tooltip',blanks(0),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'Enable',get(0,'defaultuicontrolEnable'),...
'Visible',get(0,'defaultuicontrolVisible'),...
'HandleVisibility',get(0,'defaultuicontrolHandleVisibility'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', '' ,...
'DeleteFcn',blanks(0),...
'Tag','text7',...
'UserData',[],...
'KeyPressFcn',blanks(0),...
'KeyReleaseFcn',blanks(0),...
'FontSize',8.32464815519211,...
'FontName',get(0,'defaultuicontrolFontName'),...
'FontAngle',get(0,'defaultuicontrolFontAngle'),...
'FontWeight','bold');

h1.Visible = zef.use_display;

end
